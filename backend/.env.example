# =====================================================
# Smart Enterprise Suite - Backend Environment Variables
# =====================================================
# 
# INSTRUCTIONS:
# 1. Copy this file to: backend/.env
# 2. Replace all values with your actual configuration
# 3. DO NOT commit .env to version control
# 4. Keep this file (.env.example) in version control
#
# =====================================================

# ===================== ENVIRONMENT =====================

# Node environment: development, production, staging
NODE_ENV=development

# ===================== SERVER =====================

# Server port
PORT=5000

# Server host
HOST=localhost

# ===================== DATABASE =====================

# PostgreSQL connection URL
# Format: postgresql://username:password@localhost:5432/database_name
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/smart_enterprise"

# ===================== JWT & AUTHENTICATION =====================

# JWT secret key (MUST be at least 32 characters for security!)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_super_secret_jwt_key_minimum_32_characters_long_change_this

# JWT token expiration time
# Format: number with unit (h, d, m, s) or milliseconds
JWT_EXPIRY=24h

# Password hashing rounds (bcrypt)
BCRYPT_ROUNDS=10

# ===================== CORS =====================

# Allowed origins for CORS (comma-separated)
CORS_ORIGIN=http://localhost:5173,http://localhost:3000

# Allow credentials in CORS requests
CORS_CREDENTIALS=true

# ===================== SECURITY =====================

# Cookie signing secret (MUST be at least 32 characters!)
COOKIE_SECRET=your_cookie_secret_key_minimum_32_characters_long_change_this

# Enable Helmet security headers
HELMET_ENABLED=true

# Enable CSRF protection
CSRF_ENABLED=true

# Session timeout in seconds
SESSION_TIMEOUT=3600

# Password expiration in days (0 = never expires)
PASSWORD_EXPIRATION_DAYS=90

# ===================== UPLOADS =====================

# Maximum file upload size
# Format: number with unit (b, kb, mb, gb)
MAX_FILE_SIZE=10mb

# Upload directory
UPLOAD_DIR=./uploads

# Allowed file extensions (comma-separated)
ALLOWED_FILE_EXTENSIONS=.pdf,.xlsx,.xls,.csv,.jpg,.jpeg,.png

# ===================== RATE LIMITING =====================

# Rate limiting window in milliseconds
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window
RATE_LIMIT_MAX_REQUESTS=100

# Login attempt rate limiting
LOGIN_RATE_LIMIT_WINDOW_MS=900000
LOGIN_RATE_LIMIT_MAX_REQUESTS=5

# Password reset rate limiting
PASSWORD_RESET_RATE_LIMIT_WINDOW_MS=3600000
PASSWORD_RESET_RATE_LIMIT_MAX_REQUESTS=3

# ===================== LOGGING =====================

# Log level: trace, debug, info, warn, error, fatal
LOG_LEVEL=info

# Log file path
LOG_FILE=./logs/app.log

# Enable request logging
REQUEST_LOGGING=true

# ===================== REDIS (Optional) =====================

# Redis URL for session/cache storage
# Format: redis://username:password@localhost:6379
# Leave empty to disable Redis and use in-memory storage
REDIS_URL=

# ===================== BACKUP =====================

# Enable automatic backups
BACKUP_ENABLED=true

# Backup schedule (cron format)
# Default: 0 2 * * * (daily at 2 AM)
BACKUP_SCHEDULE=0 2 * * *

# Backup retention in days
BACKUP_RETENTION_DAYS=30

# Backup directory
BACKUP_DIR=./backups

# ===================== API URLS =====================

# API base URL
API_URL=http://localhost:5000

# Frontend URL (for CORS and redirects)
FRONTEND_URL=http://localhost:5173

# ===================== EMAIL (Optional) =====================

# Email service provider: sendgrid, mailgun, smtp
EMAIL_PROVIDER=smtp

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# SendGrid (if using SendGrid)
SENDGRID_API_KEY=

# Email settings
EMAIL_FROM=noreply@smartenterprise.local
EMAIL_FROM_NAME=Smart Enterprise Suite

# ===================== PAYMENT GATEWAY (Optional) =====================

# Stripe configuration
STRIPE_SECRET_KEY=
STRIPE_PUBLIC_KEY=

# Payment webhook secret
STRIPE_WEBHOOK_SECRET=

# ===================== EXTERNAL SERVICES =====================

# OpenAI API for AI features
OPENAI_API_KEY=

# Google Maps API (if needed)
GOOGLE_MAPS_API_KEY=

# ===================== FEATURES =====================

# Enable maintenance mode (true/false)
MAINTENANCE_MODE=false

# Maintenance mode message
MAINTENANCE_MESSAGE=System is under maintenance. Please try again later.

# Enable API documentation
API_DOCS_ENABLED=true

# Enable debug endpoints
DEBUG_ENDPOINTS=false

# ===================== MOBILE PUSH NOTIFICATIONS =====================

# Web Push Public Key
WEB_PUSH_PUBLIC_KEY=

# Web Push Private Key
WEB_PUSH_PRIVATE_KEY=

# Web Push Subject
WEB_PUSH_SUBJECT=mailto:admin@smartenterprise.local

# ===================== TWILIO (For SMS/Calls) =====================

# Twilio Account SID
TWILIO_ACCOUNT_SID=

# Twilio Auth Token
TWILIO_AUTH_TOKEN=

# Twilio Phone Number
TWILIO_PHONE_NUMBER=

# ===================== DATABASE BACKUP CREDENTIALS =====================

# Database backup user (if using separate user)
DB_BACKUP_USER=backup_user

# Database backup password
DB_BACKUP_PASSWORD=backup_password

# ===================== ADVANCED =====================

# Request timeout in milliseconds
REQUEST_TIMEOUT=30000

# Max request body size
MAX_REQUEST_SIZE=10mb

# Enable compression
COMPRESSION_ENABLED=true

# ===================== MONITORING (Optional) =====================

# Sentry DSN for error tracking
SENTRY_DSN=

# New Relic API Key (for APM)
NEW_RELIC_LICENSE_KEY=

# ===================== TIMEZONE =====================

# Application timezone
TZ=Africa/Cairo

# =====================================================================
# IMPORTANT SECURITY NOTES:
# =====================================================================
#
# 1. JWT_SECRET and COOKIE_SECRET should be cryptographically secure
#    Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# 2. Never commit .env file to version control
#    Add to .gitignore: .env, .env.local, .env.*.local
#
# 3. Different values for development, staging, and production:
#    .env.development
#    .env.staging
#    .env.production
#
# 4. Use strong passwords for database and service accounts
#
# 5. Rotate secrets regularly in production
#
# 6. Keep sensitive keys in secure storage:
#    - Use environment variable managers
#    - Use secrets management tools (HashiCorp Vault, AWS Secrets Manager)
#    - Use Docker secrets for containerized deployments
#
# =====================================================================
